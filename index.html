<!DOCTYPE html>
<html>
<head>
	<script defer src="https://pyscript.net/alpha/pyscript.js"></script>
	<link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<style>
.footer {
  position: absolute;
  bottom: 0;
	width: 100%
}
</style>

</head>
<body class="text-center">

<!-- Header-->
<div class="row bg-dark text-secondary py-2">
	<div class="col-sm-12 py-3">
		<span class="display-3 fw-bold text-white">👶</span>
		<h1 class="display-5 fw-bold text-white">How young is my baby</h1>
			<div class="mx-auto">
				<p class="mb-1 py-2 text-white">Calculate the <code>WEEK</code> of your baby's <strong class="text-white">Growing Cycle</strong>, in seconds!</p>
			</div>
	</div>
</div>

<!-- Main Content -->
<div class="container-fluid text-center">
	<h2 class="display-7 fw-bold text-dark py-3">🎂 Insert Birthdate</h2>
		<!--- Input -->
		<div>
			<div class="text-center">
				<input type="date" id="birthday" value="2018-07-22" min="2018-01-01" max="2018-12-31">
			</div>
		</div>
		<!-- Pass Input to PyScript -->
		<div class="py-2">
			<div class="control"> <button id="run" pys-onClick="calculate" type="button" class="btn btn-outline-info btn-lg px-4 me-sm-3 fw-bold">Calculate</button></div>
		</div>
</div>

<!--- Get Output -->
<div>
	<h3 class="display-7 fw-bold text-dark py-3">My baby is <span id="output"></span> weeks young</h3>
</div>
<footer class="footer bg-light text-secondary pt-3 mt-2">
  <p class="text-center text-muted">Lovingly ❤ crafted by <a href="mailto:ntemposd@gmail.com"><strong>ntemposd</strong></a></p>
	<ul class="nav justify-content-center border-top">
    <li class="nav-item"><a href="https://github.com/ntemposd" class="nav-link px-2 text-muted">Github</a></li>
    <li class="nav-item"><a href="https://twitter.com/ntemposd" class="nav-link px-2 text-muted">Twitter</a></li>
    <li class="nav-item"><a href="https://www.linkedin.com/in/ntemposd/" class="nav-link px-2 text-muted">LinkedIn</a></li>
	</ul>
</footer>

<py-script>
# Import packages
from datetime import date, datetime

# Define HTML elements and inputs
output = Element("output")
input = Element("birthday")
today = date.today()

# Calculate
def calculate(*args, **kwargs):
	birthdate = datetime.strftime(datetime.strptime('input','%Y-%m-%d'), ('%Y-%m-%d'))
	delta = (today-birthdate).days//7
	output.write(delta)
</py-script>

</body>
</html>
